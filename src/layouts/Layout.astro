---
import '../styles/global.css';

interface Props {
  title: string;
}

const { title } = Astro.props;
const baseUrl = import.meta.env.BASE_URL.endsWith('/')
  ? import.meta.env.BASE_URL
  : `${import.meta.env.BASE_URL}/`;
---

<!doctype html>
<html lang="zh-TW" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href={`${baseUrl}favicon.svg`} />
    <meta name="generator" content={Astro.generator} />
    <meta name="description" content="Formosa Selects | 台灣工藝嚴選" />
    <title>{title}</title>

    <!-- Google Fonts: Noto Sans TC & Playfair Display -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  </head>
  <body class="bg-brand-sand text-slate-800 font-sans antialiased">

    <!-- Navigation -->
    <nav id="navbar" class="fixed w-full z-50 transition-all duration-300 bg-transparent text-white py-4">
        <div class="container mx-auto px-6 flex justify-between items-center">
            <!-- Logo -->
            <a href={baseUrl} class="text-2xl font-serif font-bold tracking-widest flex items-center gap-2">
                <i class="fa-solid fa-leaf text-brand-green"></i>
                FORMOSA <span class="text-sm font-sans font-light tracking-wide opacity-80">SELECTS</span>
            </a>

            <!-- Desktop Menu -->
            <div class="hidden md:flex items-center space-x-8 text-sm font-medium tracking-wide">
                <a href={`${baseUrl}#curators`} class="hover:text-brand-green transition">達人引路</a>
                <a href={`${baseUrl}#stories`} class="hover:text-brand-green transition">品牌故事</a>
                <a href={`${baseUrl}#products`} class="hover:text-brand-green transition">嚴選商品</a>

                <div class="border-l border-white/30 pl-6 flex gap-4">
                    <button class="hover:text-brand-green"><i class="fa-solid fa-magnifying-glass"></i></button>
                </div>
            </div>

            <!-- Mobile Menu Button -->
            <button class="md:hidden text-2xl">
                <i class="fa-solid fa-bars"></i>
            </button>
        </div>
    </nav>

    <main>
      <slot />
    </main>

    <!-- Newsletter / Footer -->
    <footer class="bg-brand-sand pt-16 pb-8 border-t border-gray-200">
        <div class="container mx-auto px-6">
            <div class="flex flex-col md:flex-row justify-between items-start gap-12 mb-12">
                <!-- Brand -->
                <div class="w-full md:w-1/3">
                    <a href={baseUrl} class="text-2xl font-serif font-bold tracking-widest flex items-center gap-2 mb-4">
                        <i class="fa-solid fa-leaf text-brand-green"></i>
                        FORMOSA <span class="text-sm font-sans font-light tracking-wide opacity-80">SELECTS</span>
                    </a>
                    <p class="text-gray-500 text-sm leading-relaxed mb-6">
                        致力於將台灣最優質的工藝與設計推向世界舞台。Formosa Selects 是您連結台灣製造的首選平台。
                    </p>
                    <div class="flex gap-4">
                        <a href="#" class="w-10 h-10 rounded-full bg-white flex items-center justify-center shadow-sm hover:bg-brand-green hover:text-white transition"><i class="fa-brands fa-facebook-f"></i></a>
                        <a href="#" class="w-10 h-10 rounded-full bg-white flex items-center justify-center shadow-sm hover:bg-brand-green hover:text-white transition"><i class="fa-brands fa-instagram"></i></a>
                        <a href="#" class="w-10 h-10 rounded-full bg-white flex items-center justify-center shadow-sm hover:bg-brand-green hover:text-white transition"><i class="fa-brands fa-linkedin-in"></i></a>
                    </div>
                </div>

                <!-- Links -->
                <div class="w-full md:w-1/3 grid grid-cols-2 gap-8">
                    <div>
                        <h4 class="font-bold mb-4 text-brand-dark">探索</h4>
                        <ul class="space-y-2 text-sm text-gray-500">
                            <li><a href={`${baseUrl}products/`} class="hover:text-brand-green">所有產品</a></li>
                            <li><a href="#" class="hover:text-brand-green">職人專欄</a></li>
                            <li><a href="#" class="hover:text-brand-green">永續專區</a></li>
                            <li><a href="#" class="hover:text-brand-green">最新消息</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4 text-brand-dark">服務</h4>
                        <ul class="space-y-2 text-sm text-gray-500">

                            <li><a href="#" class="hover:text-brand-green">常見問題</a></li>
                            <li><a href="#" class="hover:text-brand-green">運送政策</a></li>
                            <li><a href="#" class="hover:text-brand-green">聯絡我們</a></li>
                        </ul>
                    </div>
                </div>

                <!-- Newsletter -->
                <div class="w-full md:w-1/3">
                    <h4 class="font-bold mb-4 text-brand-dark">訂閱來自台灣的美好</h4>
                    <p class="text-gray-500 text-sm mb-4">接收最新的設計趨勢與獨家優惠。</p>
                    <form class="flex gap-2">
                        <input type="email" placeholder="您的 Email" class="flex-1 px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:border-brand-green bg-white text-gray-700" />
                        <button type="button" class="bg-brand-green text-white px-6 py-2 rounded-sm hover:bg-brand-green/90 transition">訂閱</button>
                    </form>
                </div>
            </div>

            <div class="border-t border-gray-200 pt-8 flex flex-col md:flex-row justify-between items-center text-xs text-gray-400">
                <p>&copy; {new Date().getFullYear()} Formosa Selects. All rights reserved.</p>
                <div class="flex gap-4 mt-4 md:mt-0">
                    <a href="#" class="hover:text-gray-600">隱私權政策</a>
                    <a href="#" class="hover:text-gray-600">使用條款</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Navbar Scroll Script -->
    <script is:inline>
        window.addEventListener('scroll', () => {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('bg-brand-dark', 'shadow-md', 'py-2');
                navbar.classList.remove('bg-transparent', 'py-4');
            } else {
                navbar.classList.remove('bg-brand-dark', 'shadow-md', 'py-2');
                navbar.classList.add('bg-transparent', 'py-4');
            }
        });
    </script>
  </body>
</html>
